{{#if @isOpen}}
  <div class="modal-overlay" {{on "click" @onClose}} {{mouse-track}}>
    <div
      class="modal-content"
      ...attributes
      {{on "click" this.stopPropagation}}
    >
      <div class="modal-header">
        <h3>{{if (eq @tab.type "timer") "Настройки таймера" (if (eq @tab.type "countdown") "Настройки обратного отсчета" "Настройки секундомера")}}</h3>
        <button class="close-button" {{on "click" @onClose}}>×</button>
      </div>

      <div class="modal-body">
        {{#unless (eq @tab.type "countdown")}}
          <div class="time-adjustment">
            <div class="time-display">

              <button
                class="adjust-time-btn minus-hour"
                disabled={{this.minusHourDisabled}}
                {{on "click" (fn this.adjustTime -3600)}}
              >
                Ч
              </button>
              <button
                class="adjust-time-btn minus-minute"
                disabled={{this.minusMinuteDisabled}}
                {{on "click" (fn this.adjustTime -60)}}
              >
                М
              </button>
              <button
                class="adjust-time-btn minus-one"
                disabled={{this.minusOneDisabled}}
                {{on "click" (fn this.adjustTime -1)}}
              >
                С
              </button>

              <span class="current-time">{{this.formattedTime}}</span>

              <button
                class="adjust-time-btn plus-one"
                {{on "click" (fn this.adjustTime 1)}}
              >
                С
              </button>
              <button
                class="adjust-time-btn plus-minute"
                {{on "click" (fn this.adjustTime 60)}}
              >
                М
              </button>
              <button
                class="adjust-time-btn plus-hour"
                {{on "click" (fn this.adjustTime 3600)}}
              >
                Ч
              </button>
            </div>

            <div class="reset-section">
              <button
                class="reset-button"
                {{on "click" this.resetTime}}
              >
                {{if (eq @tab.type "timer") "Сбросить таймер к 10 мин." "Сбросить к 0"}}
              </button>
            </div>
          </div>
        {{/unless}}

        {{#if (eq @tab.type "countdown")}}
          <div class="countdown-settings">
            <label for="countdown-datetime">Выберите дату и время:</label>
            <input
              id="countdown-datetime"
              type="datetime-local"
              value={{this.formattedTargetDateTime}}
              {{on "change" this.updateTargetDateTime}}
              {{on "input" this.updateTargetDateTime}}
            />
            <div class="current-countdown-time">
              <strong>Текущее время обратного отсчета:</strong><br>
              <span class="countdown-time-display">{{this.formattedTime}}</span>
            </div>
          </div>
        {{/if}}

        <label for="tab-name">Название:</label>
        <Input
          id="tab-name"
          @value={{@tab.name}}
          placeholder="Введите название таймера"
          {{on "input" this.updateName}}
        />

        <label for="tab-bg-color">Цвет фона:</label>
        <input
          id="tab-bg-color"
          type="color"
          value={{this.selectedColor}}
          {{on "change" this.updateBackgroundColor}}
        />
      </div>

      <div class="modal-footer">
        <button class="delete-button" {{on "click" @onDelete}}>Удалить таймер</button>
        <button class="save-button" {{on "click" @onClose}}>Сохранить</button>
      </div>
    </div>
  </div>
{{/if}}